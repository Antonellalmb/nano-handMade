<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/head') %>
<body>
    <!-- Preload the Whole Page -->
    <div id="preloader">      
    <div id="loading-animation">&nbsp;</div>
    </div>

    <!-- Navbar -->
    <%- include('../partials/header') %>
    <!-- End Navbar -->

    <!-- Main del formulario de carga de la tabla de Colecciones -->
    <main class="mainInput">
        <div class="tableInput">
            <% if (typeof errors !== 'undefined' && errors.length > 0) { %>
                <div class="error">
                    <ul>
                        <% errors.forEach(error => { %>
                            <li><%= error.msg %></li>
                        <% }); %>
                    </ul>
                </div>
            <% } %>
            <form class="tables" action="/product/productsItem" method="post" enctype="multipart/form-data">
                <h4>Adicionar Produto</h4> 
                <div>
                    <input class="form-tablas" type="text" name="productName" placeholder="Nome do produto"> 
                    <div id="errorNombre" class="error"></div>
                    <textarea class="form-tablas textarea-tablas" name="detail" placeholder="Descrição do produto"></textarea>
                    <div id="errorDescr" class="error"></div>
                    <div id="divFotos">
                        <p class="imageTitle">Imagens do produto</p>
                        <div id="inputFotos"></div>
                        <div id="errorImg" class="error"></div>
                    </div>
                    
                    
                    <div>
                        <div class="inputsNumber">
                            <!-- Select para elegir si el producto lleva descuento o no -->
                            <p class="optionsSelect">Coleção</p>
                            <select class="form-tablas" name="collectionSelected" id="collectionTable">
                                <option value="" required>- Coleção -</option>
                                    <!-- Se buscan los valores que completarán las opciones del select en la tabla de colecciones que recibe del controller-->
                                    <% collections.forEach(collection => { %>
                                    <option value="<%= collection.id %>"><%= collection.name %></option>
                                    <% }); %>
                            </select>
                            <!-- End Select-->
                        </div>
                        <div class="inputsNumber">
                            <!-- Select para elegir si el producto lleva descuento o no -->
                            <p class="optionsSelect">Desconto</p>
                            <select class="form-tablas" type="number" name="discountSelectedItem" id="discountTable">
                                <option value="" required>- Desconto - </option>
                                    <!-- Se buscan los valores que completarán las opciones del select en la tabla de descuentos que recibe del controller-->
                                    <% discounts.forEach(discount => { %>
                                    <option value="<%= discount.id %>"><%= discount.discount_code %></option>
                                    <% }); %>
                            </select>
                            <!-- End Select-->
                        </div>
                    </div>
                    <div class="separator">
                        <p></p>
                    </div>
                    <table class="tableProducto">
                        <tr>
                            <th class="columnNumber">It</th>
                            <th class="columnPrize  input-tablas-prize">Preço</th>
                            <th class="columnColor">Cor</th>
                            <th class="columnSize">Tamanho</th>
                            <th class="column Stock input-tablas-stock">Etoque</th>
                            <th class="columnDiscount">Desconto</th>
                            <th class="columnDetail">Detalhes</th>
                        </tr>
                        <% for(i = 1 ; i < 1 ; i++) {%>
                            <tr>
                                <td class="columnNumber"><%= i%></td>
                                <td class="columnPrize">
                                    <input class="form-tablas input-tablas-prize" type="number" name="productPrice" placeholder="   Preço do produto">
                                </td>
                                <td class="columnColor"><select class="form-tablas" type="number" name="colorSelected" id="colorTable">
                                    <option value="" required>Cor</option>
                                        <!-- Se buscan los valores que completarán las opciones del select en la tabla de colores que recibe del controller-->
                                        <% colors.forEach(color => { %>
                                        <option value="<%= color.id %>"><%= color.name %></option>
                                        <% }); %>
                                </select></td>
                                <td class="columnSize"><select class="form-tablas" type="number" name="sizeSelected" id="sizeTable">
                                    <option value="" required>Tamanho</option>
                                        <!-- Se buscan los valores que completarán las opciones del select en la tabla de tamaños que recibe del controller-->
                                        <% sizes.forEach(size => { %>
                                        <option value="<%= size.id %>"><%= size.name %></option>
                                        <% }); %>
                                </select></td>
                                <td class="columnStock">
                                    <input class="form-tablas input-tablas-stock" type="number" name="productStock" placeholder="   Etoque de produtos">
                                </td>
                                <td class="columnDiscount"><select class="form-tablas" type="number" name="discountSelected" id="discountTable">
                                    <option value="" required>Desconto</option>
                                        <!-- Se buscan los valores que completarán las opciones del select en la tabla de descuentos que recibe del controller-->
                                        <% discounts.forEach(discount => { %>
                                        <option value="<%= discount.id %>"><%= discount.discount_code %></option>
                                        <% }); %>
                                </select></td>
                                <td class="columnDetail">
                                    <textarea id="textareaTabla" class="form-tablas textarea-tablas" name="productDetail" placeholder="detalhes do produto"></textarea>
                                </td>
                            </tr>
                        <%}%>
                    </table>
                    <div id="button-add-item">
                        <a><button class="botEnterTablas linkEditar" id="addItemBtn" type="button">Adicionar item</button></a>
                    </div>    
                    <div class="separator">
                        <p></p>
                    </div>
                    <div class="button-div"> 
                        <a href="#"> <button class="botEnterTablas tablasBoton" type="submit">Adicionar Produto</button> </a>
                        <a class="linkEditar" href="/product/productItemsTable"> <button class="botEnterTablas" type="button">Ir a Tabela de Produtos</button>  </a>
                    </div>
                </div>
            </form>
        </div>
    <!-- 
        ***************************************************************************************************************
        En este div añado los datos como atributos de datos en el DOM para luego  poder acceder a ellos en el script
        ***************************************************************************************************************
    -->
    <div id="initialData"
        data-discounts="<%= JSON.stringify(discounts) %>"
        data-collections="<%= JSON.stringify(collections) %>"
        data-colors="<%= JSON.stringify(colors) %>"
        data-sizes="<%= JSON.stringify(sizes) %>"
    ></div>
        
    </main>
    <!-- End main -->
     
     <!-- Footer
    ================================================== -->
    <%- include('../partials/footer') %> 
    <!-- End footer -->
     <!-- JS libraries and scripts -->
   
  <script src="/js/jquery-1.11.3.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <script src="/js/bootstrap-hover-dropdown.min.js"></script>
  <script src="/js/jquery.appear.min.js"></script>
  <script src="/js/jquery.bxslider.min.js"></script>
  <script src="/js/jquery.owl.carousel.min.js"></script>
  <script src="/js/jquery.countTo.js"></script>
  <script src="/js/jquery.easing.1.3.js"></script>
  <script src="/js/jquery.imagesloaded.min.js"></script>
  <script src="/js/jquery.isotope.js"></script>
  <script src="/js/jquery.placeholder.js"></script>
  <script src="/js/jquery.smoothscroll.js"></script>
  <script src="/js/jquery.stellar.min.js"></script>
  <script src="/js/jquery.waypoints.js"></script>
  <script src="/js/jquery.fitvids.js"></script>
  <script src="/js/jquery.magnific-popup.min.js"></script>
  <script src="/js/jquery.ajaxchimp.min.js"></script>
  <script src="/js/jquery.countdown.js"></script>
  <script src="/js/jquery.navbar-scroll.js"></script>
<!--  <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
  <script src="/js/jquery.gmaps.js"></script>  -->
  <script src="/js/main.js"></script> 
  <script src="/js/productsTable.js"></script>   
</body>
</html>



<!--
<div>
                        
    <div>
        <!-- Select para elegir si el producto lleva descuento o no -->
       <!-- <p class="optionsSelect">Cor</p>
        <select class="form-tablas" type="number" name="colorSelected" id="colorTable">
            <option value="" required>- Selecione cor - </option>
                <!-- Se buscan los valores que completarán las opciones del select en la tabla de colores que recibe del controller-->
              <!--  <% colors.forEach(color => { %>
                <option value="<%= color.id %>"><%= color.name %></option>
                <% }); %>

        </select>
        <!-- End Select-->
   <!-- </div>
    <div>
        <!-- Select para elegir si el producto lleva descuento o no -->
      <!--  <p class="optionsSelect">Tamanho</p>
        <select class="form-tablas" type="number" name="sizeSelected" id="sizeTable">
            <option value="" required>- Selecione tamanho - </option>
                <!-- Se buscan los valores que completarán las opciones del select en la tabla de tamaños que recibe del controller-->
             <!--   <% sizes.forEach(size => { %>
                <option value="<%= size.id %>"><%= size.name %></option>
                <% }); %>

        </select>
        <!-- End Select-->
 <!--   </div>
    <div>
        <!-- Select para elegir si el producto lleva descuento o no -->
  <!--      <p class="optionsSelect">Coleção</p>
        <select class="form-tablas" name="collectionSelected" id="collectionTable">
            <option value="" required>- Selecione coleção - </option>
                <!-- Se buscan los valores que completarán las opciones del select en la tabla de colecciones que recibe del controller-->
     <!--           <% collections.forEach(collection => { %>
                <option value="<%= collection.id %>"><%= collection.name %></option>
                <% }); %>

        </select>
        <!-- End Select-->
 <!--   </div>
    <div>
        <!-- Select para elegir si el producto lleva descuento o no -->
    <!--    <p class="optionsSelect">Desconto</p>
        <select class="form-tablas" type="number" name="discountSelected" id="discountTable">
            <option value="" required>- Selecione o desconto - </option>
                <!-- Se buscan los valores que completarán las opciones del select en la tabla de descuentos que recibe del controller-->
        <!--        <% discounts.forEach(discount => { %>
                <option value="<%= discount.id %>"><%= discount.discount_code %></option>
                <% }); %>

        </select>
        <!-- End Select-->
<!--    </div>
</div>

<textarea class="form-tablas textarea-tablas" name="productDetail" placeholder="detalhes do produto"></textarea>



</div>